{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\n\nexport const API_KEY = '46242953-36a889fc8768a1b98d790c67f';\n\nexport function fetchPixabay(searchQuery) {\n  const URL = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    searchQuery\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\nexport function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <div class=\"card\">\n      <div class=\"card-image\">\n        <a href=\"${largeImageURL}\" class=\"gallery-item-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n      </div>\n      <div class=\"card-body\">\n        <p class=\"card-text\">Likes ${likes}</p>\n        <p class=\"card-text\">Views ${views}</p>\n        <p class=\"card-text\">Comments ${comments}</p>\n        <p class=\"card-text\">Downloads ${downloads}</p>\n      </div>\n    </div>`;\n}\n\nexport function renderImages(images, container) {\n  const imagesMarkup = images.map(createMarkup).join('');\n  container.innerHTML = imagesMarkup;\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchPixabay } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\nconsole.log(refs.loader);\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction loaderDisplay() {\n  refs.loader.style.display = 'block';\n}\n\nfunction loaderHiden() {\n  refs.loader.style.display = 'none';\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n\n  if (query === '') {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      color: '#ef4040',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  refs.gallery.innerHTML = '';\n  loaderDisplay();\n\n  fetchPixabay(query)\n    .then(data => {\n      setTimeout(() => {\n        if (data.hits.length === 0) {\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        } else {\n          renderImages(data.hits, refs.gallery);\n        }\n      }, 300);\n\n      loaderHiden();\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      refs.form.reset();\n    });\n}\n"],"names":["BASE_URL","API_KEY","fetchPixabay","searchQuery","URL","response","lightbox","SimpleLightbox","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","images","container","imagesMarkup","refs","onSubmit","loaderDisplay","loaderHiden","event","query","iziToast","data","error"],"mappings":"6vBAAO,MAAMA,EAAW,2BAEXC,EAAU,qCAEhB,SAASC,EAAaC,EAAa,CACxC,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAM,mBAC1CE,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,MACpB,CAAG,CACH,CCdA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAa,CAC3B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA;AAAA,mBAGUL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qCAIXC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA,WAGlD,CAEO,SAASC,EAAaC,EAAQC,EAAW,CAC9C,MAAMC,EAAeF,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,EACrDU,EAAU,UAAYC,EAEtBb,EAAS,QAAO,CAClB,CCjCA,MAAMc,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACA,QAAQ,IAAIA,EAAK,MAAM,EACvBA,EAAK,KAAK,iBAAiB,SAAUC,CAAQ,EAE7C,SAASC,GAAgB,CACvBF,EAAK,OAAO,MAAM,QAAU,OAC9B,CAEA,SAASG,GAAc,CACrBH,EAAK,OAAO,MAAM,QAAU,MAC9B,CAEA,SAASC,EAASG,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEvD,GAAIC,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,UACP,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,EAAK,QAAQ,UAAY,GACzBE,IAEApB,EAAauB,CAAK,EACf,KAAKE,GAAQ,CACZ,WAAW,IAAM,CACXA,EAAK,KAAK,SAAW,EACvBD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,UACtB,CAAW,EAEDV,EAAaW,EAAK,KAAMP,EAAK,OAAO,CAEvC,EAAE,GAAG,EAENG,GACN,CAAK,EACA,MAAMK,GAAS,CACdF,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,EAAK,KAAK,OAChB,CAAK,CACL"}